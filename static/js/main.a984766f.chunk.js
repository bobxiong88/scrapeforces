(this.webpackJsonpscrapeforces=this.webpackJsonpscrapeforces||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(24),r=n.n(o),a=(n(34),n(35),n(25)),i=n(2),s=n(3),l=n(6),d=n.p+"static/media/logo.9fa47b8d.jpg",u=n(4),j=function(){var e,t,n,o=0,r=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t,n,c){var r,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,n,c),"All"==n&&(c="No"),e.next=4,fetch("https://bobxiong88.pythonanywhere.com/start?handle=".concat(t,"&status=").concat(n,"&unique=").concat(c));case 4:return r=e.sent,e.next=7,r.json();case 7:a=e.sent,o=a.rid,console.log("hi",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),a=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var c,r,a,i,l;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://bobxiong88.pythonanywhere.com/get_status?rid=".concat(o));case 2:return c=e.sent,e.next=5,c.json();case 5:if(r=e.sent,console.log(r.status,r.current,r.total),"starting"!=r.status){e.next=12;break}console.log(1),n.innerText="Starting...",e.next=22;break;case 12:if("failed"!=r.status){e.next=21;break}return console.log(2),n.innerText="Failed. Please enter a valid handle and try again.",e.next=17,fetch("https://bobxiong88.pythonanywhere.com/done?rid=".concat(o));case 17:e.sent,o=0,e.next=22;break;case 21:"downloading"==r.status?(t.innerHTML='\n            <div id = "download">Downloading...</div>\n            <div id = "progress">\n                <div id = "bar"></div>\n            </div>\n            <div id = "percent"></div>\n            ',console.log(3),a=document.getElementById("bar"),i=(i=r.current/Math.max(1,r.total)*100).toFixed(1)+"%",a.style.width=i,document.querySelector("#percent").innerText=i):(console.log(4),l="https://bobxiong88.pythonanywhere.com/download?rid=".concat(o),t.innerHTML='\n            <div id = "download">\n                <a href = "'.concat(l,'" >Click to download</a>\n            </div>\n            '));case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){e=document.querySelector("#form"),t=document.querySelector("#container"),n=document.querySelector("#failed")})),Object(c.useEffect)((function(){console.log("start")}),[]),Object(c.useEffect)((function(){var e=setInterval(Object(l.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Hiiiiii"),0==o){e.next=4;break}return e.next=4,a();case 4:case"end":return e.stop()}}),e)}))),500);return function(){clearInterval(e)}}),[]),Object(u.jsxs)("div",{className:"page",id:"home",children:[Object(u.jsx)("img",{src:d,id:"logo"}),Object(u.jsxs)("div",{id:"container",children:[Object(u.jsxs)("form",{action:"",id:"form",onSubmit:function(t){t.preventDefault(),r(e.elements.handle.value,e.elements.status.value,e.elements.unique.value)},children:[Object(u.jsxs)("div",{id:"handleContainer",children:[Object(u.jsx)("label",{htmlFor:"handle",children:"Handle:"}),Object(u.jsx)("input",{type:"text",id:"handle",name:"handle",required:!0})]}),Object(u.jsxs)("div",{id:"statusContainer",children:[Object(u.jsx)("label",{htmlFor:"status",children:"Status:"}),Object(u.jsxs)("select",{name:"status",id:"status",children:[Object(u.jsx)("option",{value:"OK",children:"AC"}),Object(u.jsx)("option",{value:"WRONG_ANSWER",children:"WA"}),Object(u.jsx)("option",{value:"TIME_LIMIT_EXCEEDED",children:"TLE"}),Object(u.jsx)("option",{value:"RUNTIME_ERROR",children:"RTE"}),Object(u.jsx)("option",{value:"All",children:"All"})]})]}),Object(u.jsxs)("div",{id:"uniqueContainer",children:[Object(u.jsx)("label",{htmlFor:"unique",children:"Unique:"}),Object(u.jsxs)("select",{name:"unique",id:"unique",children:[Object(u.jsx)("option",{value:"Yes",children:"Yes"}),Object(u.jsx)("option",{value:"No",children:"No"})]})]}),Object(u.jsx)("button",{type:"submit",id:"submit",children:"Submit"})]}),Object(u.jsx)("div",{id:"failed"})]})]})};var b=function(){return Object(u.jsx)(a.a,{basename:"/",children:Object(u.jsx)(i.c,{children:Object(u.jsx)(i.a,{path:"/",element:Object(u.jsx)(j,{})})})})};r.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(b,{}))}},[[37,1,2]]]);
//# sourceMappingURL=main.a984766f.chunk.js.map