{"version":3,"sources":["logo.jpg","components/Home.js","App.js","index.js"],"names":["Home","form","container","failed","mid","sendForm","handle","status","unique","console","log","fetch","res","json","data","rid","handleUpdate","current","total","innerText","innerHTML","elem","document","getElementById","per","Math","max","toFixed","style","width","querySelector","url","useEffect","interval","setInterval","clearInterval","className","id","src","Logo","action","onSubmit","e","preventDefault","elements","value","htmlFor","type","name","required","App","basename","path","element","ReactDOM","createRoot","render"],"mappings":"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","file":"static/js/main.a984766f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.9fa47b8d.jpg\";","//import '../styles/home.css';\nimport React, { useState, useEffect } from 'react';\nimport Logo from '../logo.jpg'\n\nconst Home = ()=>{\n    var form, container, failed; \n    var mid = 0;\n\n    const handleSubmit = (e) =>{\n        e.preventDefault();\n        sendForm(form.elements[\"handle\"].value, form.elements[\"status\"].value, form.elements[\"unique\"].value);\n    }\n\n    const sendForm = async(handle, status, unique)=>{\n        console.log(handle, status,unique);\n        if (status == \"All\") unique = \"No\";\n\n        const res = await fetch(`https://bobxiong88.pythonanywhere.com/start?handle=${handle}&status=${status}&unique=${unique}`)\n        const data = await res.json();\n\n        mid = data.rid;\n        console.log(\"hi\", mid);\n    }\n\n    const handleUpdate = async () =>{\n        const res = await fetch(`https://bobxiong88.pythonanywhere.com/get_status?rid=${mid}`);\n        const data = await res.json();\n        console.log(data.status, data.current, data.total);\n        if (data.status == \"starting\"){\n            console.log(1);\n            failed.innerText = \"Starting...\"\n        }\n        else if (data.status == \"failed\"){\n            console.log(2);\n            failed.innerText = \"Failed. Please enter a valid handle and try again.\"\n            const okay = await fetch(`https://bobxiong88.pythonanywhere.com/done?rid=${mid}`);\n            mid = 0;\n        }\n        else if (data.status == \"downloading\"){\n            container.innerHTML = \n            `\n            <div id = \"download\">Downloading...</div>\n            <div id = \"progress\">\n                <div id = \"bar\"></div>\n            </div>\n            <div id = \"percent\"></div>\n            `\n            console.log(3);\n            var elem = document.getElementById(\"bar\");\n            var per = data.current/Math.max(1,data.total)*100;\n            per = per.toFixed(1)+\"%\";\n            elem.style.width = per;\n            document.querySelector(\"#percent\").innerText = per;\n        }\n        else{\n            console.log(4);\n            const url = `https://bobxiong88.pythonanywhere.com/download?rid=${mid}`\n            container.innerHTML = \n            `\n            <div id = \"download\">\n                <a href = \"${url}\" >Click to download</a>\n            </div>\n            `\n        }\n    };\n    useEffect(()=>{\n        form = document.querySelector(\"#form\");\n        container = document.querySelector(\"#container\");\n        failed = document.querySelector(\"#failed\");\n    });\n\n    useEffect(()=>{\n        console.log(\"start\");\n    }, []);\n    \n    useEffect(() => {\n        const interval = setInterval(async () => {\n            console.log(\"Hiiiiii\");\n            if (mid != 0){\n                await handleUpdate();\n            }\n        }, 500);\n        return () => {\n            clearInterval(interval);\n        }\n      }, []);\n\n    return (\n        <div className = \"page\" id = \"home\">\n            <img src = {Logo} id = \"logo\"/>\n            <div id = \"container\">\n                <form action = \"\" id = \"form\" onSubmit = {handleSubmit}>\n                    <div id = \"handleContainer\">\n                        <label htmlFor = \"handle\">Handle:</label>\n                        <input type = \"text\" id = \"handle\" name = \"handle\" required/>\n                    </div>\n\n                    <div id = \"statusContainer\">\n                        <label htmlFor = \"status\">Status:</label>\n                        <select name=\"status\" id=\"status\">\n                            <option value=\"OK\">AC</option>\n                            <option value=\"WRONG_ANSWER\">WA</option>\n                            <option value=\"TIME_LIMIT_EXCEEDED\">TLE</option>\n                            <option value=\"RUNTIME_ERROR\">RTE</option>\n                            <option value=\"All\">All</option>\n                        </select>\n                    </div>\n\n                    <div id = \"uniqueContainer\">\n                        <label htmlFor = \"unique\">Unique:</label>\n                        <select name=\"unique\" id=\"unique\">\n                            <option value=\"Yes\">Yes</option>\n                            <option value=\"No\">No</option>\n                        </select>\n                    </div>\n\n                    <button type = \"submit\" id = \"submit\">Submit</button>\n                </form>\n                <div id = \"failed\"></div>\n            </div>\n        </div>\n    );\n    \n    \n}\n\nexport default Home","//import logo from './logo.svg';\n\nimport './App.css';\nimport {BrowserRouter as Router, Routes, Route, Link, HashRouter} from \"react-router-dom\";\nimport Home from './components/Home';\n\nfunction App() {\n    return (\n        <HashRouter basename = \"/\">\n          <Routes>\n            <Route path = \"/\" element={<Home />}/>\n          </Routes>\n        </HashRouter>\n    );\n  }\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n    <App />\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}